<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Home</title>
        <link rel="stylesheet" href="{{ url_for('static', filename= 'css/style.css') }}">
    </head>
    <body>
        <h1>Home html</h1>

        <a href="/login">Login</a>

        <br>
        <form id="dataForm">
            <div>
                <label for="inputData">Input Data</label>
                <input type="text" id="inputData" name="inputData" required>
                <span id="field1error" style="color: red"></span>
                <label for="inputData2">Input Data 2</label>
                <input type="text" id="inputData2" name="inputData2" required>
            </div>
            <button type="submit">Submit</button>
        </form>
        <div id="result">r</div>

        <script>
            document.getElementById('dataForm').addEventListener('submit', function(event) {
                event.preventDefault();
                const formData = new FormData(event.target);
                fetch('/home/process', {
                    method: 'POST',
                    body: formData
                })
                .then(response => response.json())
                .then(data => {
                    document.getElementById('result').textContent = 'Result: ' + data.result;
                    if (data.invalid1) {
                        document.getElementById('field1error').textContent = 'Invalid';
                    }
                })
                .catch(error => console.error('Error:', error));
            });
        </script>

    </body>
</html>
